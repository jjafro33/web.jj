<!DOCTYPE html> 
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JJ MUSIC HUB</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Roboto',sans-serif;background:#121212;color:#fff;height:100vh;display:flex;flex-direction:column;overflow:hidden;}
a{text-decoration:none;color:#b3b3b3;transition:.2s;}
a:hover{color:#fff;}

/* Layout wrapper */
.app{flex:1;display:flex;overflow:hidden;}

/* Sidebar (Desktop) */
.sidebar{width:250px;background:#000;display:flex;flex-direction:column;padding:20px;flex-shrink:0;transition:.3s;}
.logo{color:#1DB954;font-size:24px;font-weight:bold;margin-bottom:25px;display:flex;align-items:center;gap:10px;}
.nav-links a{display:flex;align-items:center;gap:12px;font-size:15px;margin:12px 0;cursor:pointer;transition:.2s;}
.nav-links a.active,a:hover{color:#1DB954;}
.library{margin-top:30px;}
.library h3{font-size:13px;color:#b3b3b3;text-transform:uppercase;margin-bottom:10px;}
.playlist-box{background:#4a4646;border-radius:8px;padding:14px;margin-bottom:10px;font-size:13px;cursor:pointer;transition:.3s;}
.playlist-box:hover{background:#413f3f;}
.advertisment{margin-top:30px;}
.advertisment h5{font-size:13px;color:#b3b3b3;text-transform:uppercase;margin-bottom:10px;}
.advertisment-box{border-radius:2px;padding:14px;margin-bottom:10px;font-size:13px;cursor:pointer;transition:.3s;}
.login{margin-top:40px;}
.login h4{font-size:13px;color:#b3b3b3;text-transform:uppercase;margin-bottom:10px;}
.login-box{background:#201f1f;border-radius:14px;padding:8px;text-align:center;cursor:pointer;transition:.3s;}
.login-box:hover{background:#282828;}

/* Main */
.main{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.header{padding:15px 20px;background:#181818;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:10;flex-wrap:wrap;gap:10px;}
.search-bar{background:#282828;border:none;padding:8px 15px;border-radius:20px;color:#fff;flex:1;min-width:180px;transition:.2s;}
.search-bar:focus{outline:none;box-shadow:0 0 0 2px #1DB954;}
.premium-box{background:#0ba930;border-radius:20px;padding:6px 12px;font-size:14px;cursor:pointer;transition:.3s;white-space:nowrap;}
.premium-box:hover{background:#29e60c;}
.profile{display:flex;align-items:center;gap:12px;cursor:pointer;}

/* Sections */
.section{flex:1;overflow-y:auto;padding:20px;transition:opacity .4s;}
.section.hidden{opacity:0;pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;}
.section h2{font-size:20px;margin-bottom:15px;}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px;}
.card{background:#181818;padding:12px;border-radius:8px;cursor:pointer;transition:.3s;display:flex;flex-direction:column;animation:fadeIn .5s ease forwards;opacity:0;}
.card:hover{background:#00531d;transform:scale(1.05);}
.card img{width:100%;border-radius:6px;margin-bottom:8px;object-fit:cover;}
.card-title{font-size:14px;font-weight:bold;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.card-artist{font-size:12px;color:#b3b3b3;}
@keyframes fadeIn{0%{opacity:0;transform:translateY(10px);}100%{opacity:1;transform:translateY(0);}}

/* Player */
.player{height:90px;background:#181818;border-top:1px solid #282828;display:flex;align-items:center;justify-content:space-between;padding:0 10px;gap:10px;flex-wrap:wrap;}
.now-playing{display:flex;align-items:center;gap:8px;flex:1;min-width:150px;}
.now-playing img{width:50px;height:50px;border-radius:50%;object-fit:cover;}
.now-playing img.playing{animation:rotateCover 7s linear infinite;}
@keyframes rotateCover{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
.now-title{font-size:14px;font-weight:bold;}
.now-artist{font-size:12px;color:#048b3d;}

.controls{flex:2;display:flex;flex-direction:column;align-items:center;min-width:180px;}
.buttons{display:flex;gap:14px;align-items:center;margin-bottom:6px;}
.buttons button{background:none;border:none;color:#079c20;font-size:18px;cursor:pointer;transition:.2s;}
.buttons button:hover{color:#1DB954;transform:scale(1.2);}
.progress-container{display:flex;align-items:center;gap:8px;width:100%;max-width:400px;}
.time{font-size:11px;color:#b3b3b3;}
.progress{flex:1;height:4px;background:#404040;border-radius:2px;cursor:pointer;}
.progress-filled{height:100%;width:0%;background:#1DB954;border-radius:2px;}

.volume{display:flex;align-items:center;gap:6px;min-width:120px;}
.volume input{flex:1;}

/* Mobile Responsive */
@media(max-width:768px){
  body{flex-direction:column;}
  .sidebar{position:fixed;bottom:0;left:0;width:100%;height:60px;flex-direction:row;justify-content:space-around;align-items:center;padding:0;}
  .sidebar .logo,.library,.advertisment,.login{display:none;}
  .nav-links{display:flex;gap:20px;}
  .nav-links a{margin:0;font-size:14px;}
  .header{padding:10px;flex-wrap:wrap;}
  .premium-box{display:none;}
  .player{flex-direction:column;height:auto;padding:8px;}
  .controls{order:2;width:100%;}
  .now-playing{order:1;justify-content:center;}
  .volume{order:3;width:100%;justify-content:center;}
  .grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));}

/* your existing styles ... */
.login-modal {
  display:none;position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.7);justify-content:center;align-items:center;z-index:1000;
}
.login-content {
  background:#181818;padding:20px;border-radius:10px;width:300px;text-align:center;
}
.login-content input {
  width:90%;padding:8px;margin:6px 0;border:none;border-radius:5px;
}
.login-content button {
  background:#1DB954;border:none;padding:10px 15px;margin-top:10px;border-radius:20px;
  color:#fff;cursor:pointer;width:100%;
}
.login-content button:hover{background:#1ed760;}
#loginError {color:#f44336;font-size:13px;margin-top:5px;}
}
</style>
</head>
<body>

<div class="app">
  <!-- Sidebar -->
  <div class="sidebar">
    <div class="logo"><i>üÑπ</i> JJ MUSIC HUB</div>
    <div class="nav-links">
      <a id="homeTab" class="active"><i class="fa-solid fa-house"></i> HOME</a>
      <a id="searchTab"><i class="fa-solid fa-magnifying-glass"></i> SEARCH</a>
      <a id="libraryTab"><i class="fa-solid fa-book"></i> LIBRARY</a>
    </div>
    <div class="library">
      <h3>Playlists</h3>
      <div class="playlist-box">+ Create Playlist</div>
      <div class="playlist-box">‚ù§Ô∏è Liked Songs</div>
    </div>
    <div class="advertisment">
      <h5>Ad</h5>
      <div class="advertisment-box">
        <video height="100" width="180" autoplay muted loop>
          <source src="gpt.mp4" type="video/mp4">
        </video>
      </div>
    </div>
    <div class="login">
      <h4>LOGIN</h4>
      <div class="login-box"><img src="go.png" height="18"> LOGIN</div>
    </div>
  </div>

  <!-- Main -->
  <div class="main">
    <div class="header">
      <input type="text" id="searchInput" class="search-bar" placeholder="Search songs, artists... üîçÔ∏é">
      <div class="premium-box">üëë PREMIUM</div>
      <div class="profile"><img src="u.png" alt="profile" width="32" height="32" style="border-radius:50%;"><span>Guest</span></div>
    </div>

    <div id="homeSection" class="section">
      <h2>Trending Now</h2>
      <div class="grid" id="songs"></div>
      <h2>Recently Played</h2>
      <div class="grid" id="recentlyPlayed"></div>
      <h2>Recommended</h2>
      <div class="grid" id="recommended"></div>
    </div>

    <div id="searchSection" class="section hidden">
      <h2>Search Results</h2>
      <div class="grid" id="searchResults"></div>
    </div>

    <div id="librarySection" class="section hidden">
      <h2>Your Library</h2>
      <div class="grid" id="libraryContent"></div>
    </div>

    <!-- Player -->
    <div class="player">
      <div class="now-playing">
        <img id="nowCover" src="" alt="cover">
        <div>
          <div class="now-title" id="nowTitle">No song</div>
          <div class="now-artist" id="nowArtist">-</div>
        </div>
      </div>
      <div class="controls">
        <div class="buttons">
          <button onclick="toggleShuffle()"><i class="fa-solid fa-shuffle"></i></button>
          <button onclick="prevSong()"><i class="fa-solid fa-backward-step"></i></button>
          <button onclick="togglePlay()" id="playBtn"><i class="fa-solid fa-play"></i></button>
          <button onclick="nextSong()"><i class="fa-solid fa-forward-step"></i></button>
          <button onclick="toggleRepeat()"><i class="fa-solid fa-repeat"></i></button>
        </div>
        <div class="progress-container" onclick="seek(event)">
          <span class="time" id="currentTime">0:00</span>
          <div class="progress"><div class="progress-filled" id="progress"></div></div>
          <span class="time" id="duration">0:00</span>
        </div>
      </div>
      <div class="volume">
        <i class="fa-solid fa-volume-high"></i>
        <input type="range" min="0" max="1" step="0.01" id="volumeSlider" value="1">
      </div>
    </div>
  </div>
</div>
</div>

<script>

const songs=[
  {title:"MONICA",artist:"Anirudh",cover:"c.jpg",src:"c1.mp3"},
  {title:"POTTALA MUTTAYE",artist:"Santhosh Narayanan",cover:"p.jpg",src:"p1.mp3"},
  {title:"THEETHIRIYAAI",artist:"Sid Sriram",cover:"t.jpg",src:"t1.mp3"},
  {title:"SALAMBALA",artist:"Sai Abhyankkar",cover:"s.jpg",src:"s1.mp3"},
  {title:"Peaches",artist:"Justin Bieber",cover:"https://i.scdn.co/image/ab67616d0000b2738cf7fe63c19e78146ee3667f",src:"https://p.scdn.co/mp3-preview/9.mp3"},
  {title:"Bad Guy",artist:"Billie Eilish",cover:"https://i.scdn.co/image/ab67616d0000b2731c1b0f99d9db6466b7402493",src:"https://p.scdn.co/mp3-preview/10.mp3"},
  {title:"Save Your Tears",artist:"The Weeknd",cover:"https://i.scdn.co/image/ab67616d0000b27368c5b8a6e6e4e50e4a6a1c2d",src:"https://p.scdn.co/mp3-preview/11.mp3"}
];

let currentIndex=0;let recentlyPlayed=[];
const audio=new Audio();let isPlaying=false,isShuffle=false,isRepeat=false;
const songsDiv=document.getElementById("songs");
const searchResults=document.getElementById("searchResults");
const libraryContent=document.getElementById("libraryContent");
const nowTitle=document.getElementById("nowTitle");
const nowArtist=document.getElementById("nowArtist");
const nowCover=document.getElementById("nowCover");
const playBtn=document.getElementById("playBtn");
const progress=document.getElementById("progress");
const currentTimeEl=document.getElementById("currentTime");
const durationEl=document.getElementById("duration");
const volumeSlider=document.getElementById("volumeSlider");
const searchInput=document.getElementById("searchInput");
const recentlyDiv=document.getElementById("recentlyPlayed");
const recommendedDiv=document.getElementById("recommended");

function renderSongs(container,data){
  container.innerHTML="";
  data.forEach((song,i)=>{
    const card=document.createElement("div");
    card.className="card";
    card.innerHTML=`<img src="${song.cover}"><div class="card-title">${song.title}</div><div class="card-artist">${song.artist}</div>`;
    card.onclick=()=>playSong(i);
    container.appendChild(card);
  });
}
function playSong(i){
  currentIndex=i;audio.src=songs[i].src;audio.play();
  isPlaying=true;updateNowPlaying();updatePlayButton();
  updateRecentlyPlayed(songs[i]);updateRecommended();
}
function updateNowPlaying(){
  const song=songs[currentIndex];
  nowTitle.textContent=song.title;nowArtist.textContent=song.artist;nowCover.src=song.cover;
  nowCover.classList.add('playing');
}
function togglePlay(){if(!audio.src) playSong(0);else if(audio.paused){audio.play();isPlaying=true;}else{audio.pause();isPlaying=false;}updatePlayButton();}
function updatePlayButton(){playBtn.innerHTML=isPlaying?`<i class="fa-solid fa-pause"></i>`:`<i class="fa-solid fa-play"></i>`;}
function prevSong(){currentIndex=(currentIndex-1+songs.length)%songs.length;playSong(currentIndex);}
function nextSong(){if(isShuffle){currentIndex=Math.floor(Math.random()*songs.length);}else currentIndex=(currentIndex+1)%songs.length;playSong(currentIndex);}
function toggleShuffle(){isShuffle=!isShuffle;}
function toggleRepeat(){isRepeat=!isRepeat;}
audio.addEventListener("timeupdate",()=>{if(audio.duration){progress.style.width=(audio.currentTime/audio.duration*100)+"%";currentTimeEl.textContent=formatTime(audio.currentTime);durationEl.textContent=formatTime(audio.duration);}});
function formatTime(sec){const m=Math.floor(sec/60);const s=Math.floor(sec%60);return m+":"+(s<10?"0"+s:s);}
function seek(e){const bar=e.currentTarget;const percent=e.offsetX/bar.offsetWidth;audio.currentTime=percent*audio.duration;}
audio.addEventListener("ended",()=>{if(isRepeat) playSong(currentIndex);else nextSong();});
volumeSlider.addEventListener("input",()=>{audio.volume=volumeSlider.value;});

const homeTab=document.getElementById("homeTab");
const searchTab=document.getElementById("searchTab");
const libraryTab=document.getElementById("libraryTab");
const homeSection=document.getElementById("homeSection");
const searchSection=document.getElementById("searchSection");
const librarySection=document.getElementById("librarySection");
homeTab.addEventListener("click",()=>showSection("home"));
searchTab.addEventListener("click",()=>showSection("search"));
libraryTab.addEventListener("click",()=>showSection("library"));
function showSection(section){
  [homeSection,searchSection,librarySection].forEach(s=>s.classList.add("hidden"));
  [homeTab,searchTab,libraryTab].forEach(t=>t.classList.remove("active"));
  if(section==="home"){homeSection.classList.remove("hidden");homeTab.classList.add("active");}
  if(section==="search"){searchSection.classList.remove("hidden");searchTab.classList.add("active");}
  if(section==="library"){librarySection.classList.remove("hidden");libraryTab.classList.add("active");renderSongs(libraryContent,songs);}
}
searchInput.addEventListener("input",()=>{
  const q=searchInput.value.toLowerCase();
  const filtered=songs.filter(s=>s.title.toLowerCase().includes(q)||s.artist.toLowerCase().includes(q));
  renderSongs(searchResults,filtered);showSection("search");
});
function updateRecentlyPlayed(song){
  recentlyPlayed=recentlyPlayed.filter(s=>s.title!==song.title);
  recentlyPlayed.unshift(song);if(recentlyPlayed.length>5) recentlyPlayed.pop();
  renderSongs(recentlyDiv,recentlyPlayed);
}
function updateRecommended(){
  const filtered=songs.filter(s=>!recentlyPlayed.includes(s));
  renderSongs(recommendedDiv,filtered.slice(0,5));
}
renderSongs(songsDiv,songs);updateRecommended();

// For Firebase JS SDK v7.20.0 and later, measurementId is optional

const firebaseConfig = {
  apiKey: "AIzaSyDrPaWvYRRyonC2AZqc50MJKKKOMqAD1X4",
  authDomain: "jj-music-hub.firebaseapp.com",
  projectId: "jj-music-hub",
  storageBucket: "jj-music-hub.firebasestorage.app",
  messagingSenderId: "47008912149",
  appId: "1:47008912149:web:3f48b94188651576c50f1c",
  measurementId: "G-HNJ5KG0F0B"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

/* Modal Functions */
const loginModal = document.getElementById("loginModal");
function openLogin(){loginModal.style.display="flex";}
function closeLogin(){loginModal.style.display="none";document.getElementById("loginError").innerText="";}

/* Auth Functions */
function login(){
  const email=document.getElementById("loginEmail").value;
  const pass=document.getElementById("loginPassword").value;
  auth.signInWithEmailAndPassword(email,pass)
    .then(user=>{closeLogin();})
    .catch(err=>{document.getElementById("loginError").innerText=err.message;});
}
function signup(){
  const email=document.getElementById("loginEmail").value;
  const pass=document.getElementById("loginPassword").value;
  auth.createUserWithEmailAndPassword(email,pass)
    .then(user=>{closeLogin();})
    .catch(err=>{document.getElementById("loginError").innerText=err.message;});
}
function logout(){auth.signOut();}

/* Auth State Listener */
auth.onAuthStateChanged(user=>{
  if(user){
    document.getElementById("profileName").textContent=user.email.split("@")[0];
    document.querySelector(".login-box").style.display="none";
    document.getElementById("logoutBtn").style.display="inline";
  }else{
    document.getElementById("profileName").textContent="Guest";
    document.querySelector(".login-box").style.display="block";
    document.getElementById("logoutBtn").style.display="none";
  }
});
</script>
</body>
</html>    