<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Spotify Clone</title>
  <style>
    /* ---------- RESET ---------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }
    body {
      display: flex;
      height: 100vh;
      background-color: #121212;
      color: white;
      overflow: hidden;
    }

    /* ---------- SIDEBAR ---------- */
    .sidebar {
      width: 240px;
      background-color: #000;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 20px 10px;
    }
    .sidebar .logo {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 20px;
      color: #1DB954;
    }
    .nav-links {
      list-style: none;
    }
    .nav-links li {
      padding: 10px;
      margin: 5px 0;
      cursor: pointer;
      border-radius: 6px;
    }
    .nav-links li:hover {
      background-color: #1DB954;
      color: black;
    }
    .playlists {
      margin-top: 20px;
    }
    .playlists h3 {
      font-size: 14px;
      margin-bottom: 10px;
      color: #aaa;
    }
    .playlists ul {
      list-style: none;
      max-height: 200px;
      overflow-y: auto;
    }
    .playlists li {
      padding: 6px;
      cursor: pointer;
      border-radius: 4px;
    }
    .playlists li:hover {
      background-color: #222;
    }

    /* ---------- MAIN CONTENT ---------- */
    .main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }
    .header {
      padding: 20px;
      font-size: 20px;
      font-weight: bold;
      background-color: #181818;
    }
    .content {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 20px;
    }
    .card {
      background: #181818;
      border-radius: 8px;
      padding: 15px;
      text-align: center;
      transition: 0.2s;
      cursor: pointer;
    }
    .card:hover {
      background: #282828;
      transform: scale(1.05);
    }
    .card img {
      width: 100%;
      border-radius: 8px;
    }
    .card h4 {
      margin: 10px 0 5px;
    }
    .card p {
      font-size: 14px;
      color: #aaa;
    }

    /* ---------- PLAYER ---------- */
    .player {
      height: 100px;
      background: #181818;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      border-top: 1px solid #333;
    }
    .player-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .player-left img {
      width: 60px;
      height: 60px;
      border-radius: 6px;
    }
    .player-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      flex: 1;
    }
    .controls {
      display: flex;
      gap: 15px;
      align-items: center;
    }
    .controls button {
      background: none;
      border: none;
      color: white;
      font-size: 20px;
      cursor: pointer;
      transition: 0.2s;
    }
    .controls button:hover {
      color: #1DB954;
    }
    .progress-container {
      width: 100%;
      height: 6px;
      background: #333;
      border-radius: 3px;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: #1DB954;
    }
    .player-right {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .volume {
      width: 100px;
    }
  </style>
</head>
<body>

  <!-- ---------- SIDEBAR ---------- -->
  <div class="sidebar">
    <div>
      <div class="logo">Spotify</div>
      <ul class="nav-links">
        <li id="homeBtn">üè† Home</li>
        <li id="searchBtn">üîç Search</li>
        <li id="libraryBtn">üìö Your Library</li>
      </ul>
      <div class="playlists">
        <h3>Playlists</h3>
        <ul>
          <li>üî• Top Hits</li>
          <li>üéß Chill Vibes</li>
          <li>üí™ Workout</li>
          <li>üé∏ Rock Classics</li>
          <li>üé∂ Tamil Hits</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- ---------- MAIN CONTENT ---------- -->
  <div class="main-content">
    <div class="header" id="mainHeader">Home</div>
    <div class="content" id="mainContent">
      <!-- Dynamic cards -->
    </div>
  </div>

  <!-- ---------- PLAYER ---------- -->
  <div class="player">
    <div class="player-left">
      <img id="player-img" src="https://i.scdn.co/image/ab67616d00001e02c4e0f7fbc692a4cdb3b3e6e2" alt="">
      <div>
        <div id="player-title">No Song</div>
        <div id="player-artist" style="color:#aaa;">---</div>
      </div>
    </div>
    <div class="player-center">
      <div class="controls">
        <button id="shuffleBtn">üîÄ</button>
        <button id="prev">‚èÆ</button>
        <button id="play">‚ñ∂</button>
        <button id="next">‚è≠</button>
        <button id="repeatBtn">üîÅ</button>
      </div>
      <div class="progress-container">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
    </div>
    <div class="player-right">
      <button id="muteBtn">üîä</button>
      <input type="range" id="volumeSlider" class="volume" min="0" max="1" step="0.01" value="1">
    </div>
    <audio id="audio"></audio>
  </div>

  <script>
    // ---------- TRACK DATA ----------
    const trackList = [
      {
        title: "Shape of You",
        artist: "Ed Sheeran",
        img: "https://i.scdn.co/image/ab67616d0000b2731e02e3e6f57d3d7e8b5e1a1f",
        src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
      },
      {
        title: "Believer",
        artist: "Imagine Dragons",
        img: "https://i.scdn.co/image/ab67616d0000b2733f0b8e1b6c59d1f2baf54b31",
        src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"
      },
      {
        title: "Vaathi Coming",
        artist: "Anirudh Ravichander",
        img: "https://i.scdn.co/image/ab67616d0000b273c3e14f63db1c2e2c5f5e7d30",
        src: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"
      }
    ];

    const mainContent = document.getElementById("mainContent");
    const mainHeader = document.getElementById("mainHeader");
    const audio = document.getElementById("audio");
    const playBtn = document.getElementById("play");
    const prevBtn = document.getElementById("prev");
    const nextBtn = document.getElementById("next");
    const shuffleBtn = document.getElementById("shuffleBtn");
    const repeatBtn = document.getElementById("repeatBtn");
    const muteBtn = document.getElementById("muteBtn");
    const volumeSlider = document.getElementById("volumeSlider");
    const progressBar = document.getElementById("progress-bar");
    const playerImg = document.getElementById("player-img");
    const playerTitle = document.getElementById("player-title");
    const playerArtist = document.getElementById("player-artist");

    let currentTrackIndex = 0;
    let isShuffle = false;
    let repeatMode = "off"; // off | one | all

    // ---------- LOAD TRACK ----------
    function loadTrack(index) {
      const track = trackList[index];
      audio.src = track.src;
      playerImg.src = track.img;
      playerTitle.textContent = track.title;
      playerArtist.textContent = track.artist;
    }

    function playTrack() {
      audio.play();
      playBtn.textContent = "‚è∏";
    }

    function pauseTrack() {
      audio.pause();
      playBtn.textContent = "‚ñ∂";
    }

    playBtn.addEventListener("click", () => {
      if (audio.paused) playTrack(); else pauseTrack();
    });

    prevBtn.addEventListener("click", () => {
      if (isShuffle) {
        currentTrackIndex = Math.floor(Math.random() * trackList.length);
      } else {
        currentTrackIndex = (currentTrackIndex - 1 + trackList.length) % trackList.length;
      }
      loadTrack(currentTrackIndex);
      playTrack();
    });

    nextBtn.addEventListener("click", () => {
      if (isShuffle) {
        currentTrackIndex = Math.floor(Math.random() * trackList.length);
      } else {
        currentTrackIndex = (currentTrackIndex + 1) % trackList.length;
      }
      loadTrack(currentTrackIndex);
      playTrack();
    });

    // Progress bar update
    audio.addEventListener("timeupdate", () => {
      const progress = (audio.currentTime / audio.duration) * 100;
      progressBar.style.width = progress + "%";
    });

    // Handle end of track
    audio.addEventListener("ended", () => {
      if (repeatMode === "one") {
        playTrack();
      } else if (isShuffle) {
        currentTrackIndex = Math.floor(Math.random() * trackList.length);
        loadTrack(currentTrackIndex);
        playTrack();
      } else {
        currentTrackIndex++;
        if (currentTrackIndex >= trackList.length) {
          if (repeatMode === "all") {
            currentTrackIndex = 0;
            loadTrack(currentTrackIndex);
            playTrack();
          } else {
            pauseTrack();
          }
        } else {
          loadTrack(currentTrackIndex);
          playTrack();
        }
      }
    });

    // Shuffle
    shuffleBtn.addEventListener("click", () => {
      isShuffle = !isShuffle;
      shuffleBtn.style.color = isShuffle ? "#1DB954" : "white";
    });

    // Repeat toggle
    repeatBtn.addEventListener("click", () => {
      if (repeatMode === "off") {
        repeatMode = "all";
        repeatBtn.style.color = "#1DB954";
      } else if (repeatMode === "all") {
        repeatMode = "one";
        repeatBtn.textContent = "üîÇ";
        repeatBtn.style.color = "#1DB954";
      } else {
        repeatMode = "off";
        repeatBtn.textContent = "üîÅ";
        repeatBtn.style.color = "white";
      }
    });

    // Volume control
    volumeSlider.addEventListener("input", () => {
      audio.volume = volumeSlider.value;
    });

    muteBtn.addEventListener("click", () => {
      if (audio.muted) {
        audio.muted = false;
        muteBtn.textContent = "üîä";
      } else {
        audio.muted = true;
        muteBtn.textContent = "üîá";
      }
    });

    // ---------- SIDEBAR NAVIGATION ----------
    document.getElementById("homeBtn").addEventListener("click", () => {
      mainHeader.textContent = "Home";
      renderCards(trackList);
    });
    document.getElementById("searchBtn").addEventListener("click", () => {
      mainHeader.textContent = "Search";
      mainContent.innerHTML = `<input type="text" placeholder="Search songs..." style="width:100%;padding:10px;border-radius:6px;border:none;">`;
    });
    document.getElementById("libraryBtn").addEventListener("click", () => {
      mainHeader.textContent = "Your Library";
      renderCards(trackList);
    });

    // ---------- RENDER CARDS ----------
    function renderCards(list) {
      mainContent.innerHTML = "";
      list.forEach((track, index) => {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          <img src="${track.img}" alt="">
          <h4>${track.title}</h4>
          <p>${track.artist}</p>
        `;
        card.addEventListener("click", () => {
          currentTrackIndex = index;
          loadTrack(index);
          playTrack();
        });
        mainContent.appendChild(card);
      });
    }

    // Initialize
    loadTrack(currentTrackIndex);
    renderCards(trackList);
  </script>
</body>
</html>
